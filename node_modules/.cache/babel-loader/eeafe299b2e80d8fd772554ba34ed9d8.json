{"ast":null,"code":"var _jsxFileName = \"/Users/agusespa/Programming/Projects/self-okrs-ui/src/components/Login.js\",\n    _s = $RefreshSig$();\n\nimport { useHistory } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = _ref => {\n  _s();\n\n  let {\n    uri,\n    auth\n  } = _ref;\n  const [username, setUserName] = useState();\n  const [password, setPassword] = useState();\n  const [errMsg, setErrMsg] = useState();\n  const history = useHistory();\n\n  const cancel = () => {\n    const l = history.length;\n    l > 2 ? history.goBack() : history.push(\"/\");\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const res = await auth.loginUser({\n      username,\n      password\n    });\n\n    if (res && res.success) {\n      setErrMsg(null);\n      history.push(uri ? uri : \"/\");\n    } else {\n      setErrMsg(res && typeof res === \"string\" ? res : \"Invalid Username/Password\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: props.handleLogin,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Email address\",\n          value: props.emailAddress,\n          onChange: props.handleEmailAddress\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Password\",\n          value: props.password,\n          onChange: props.handlePassword\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Login, \"Rx9vn1Bi3yRqnboWNs66NTzdSog=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\nLogin.propTypes = {\n  auth: PropTypes.object.isRequired\n};\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/agusespa/Programming/Projects/self-okrs-ui/src/components/Login.js"],"names":["useHistory","useState","PropTypes","Login","uri","auth","username","setUserName","password","setPassword","errMsg","setErrMsg","history","cancel","l","length","goBack","push","handleSubmit","e","preventDefault","res","loginUser","success","props","handleLogin","emailAddress","handleEmailAddress","handlePassword","propTypes","object","isRequired"],"mappings":";;;AAAA,SAASA,UAAT,QAA2B,kBAA3B;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,OAAOC,SAAP,MAAsB,YAAtB;;;AAEA,MAAMC,KAAK,GAAG,QAAmB;AAAA;;AAAA,MAAlB;AAAEC,IAAAA,GAAF;AAAOC,IAAAA;AAAP,GAAkB;AAC/B,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BN,QAAQ,EAAxC;AACA,QAAM,CAACO,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,EAAxC;AACA,QAAM,CAACS,MAAD,EAASC,SAAT,IAAsBV,QAAQ,EAApC;AACA,QAAMW,OAAO,GAAGZ,UAAU,EAA1B;;AAEA,QAAMa,MAAM,GAAG,MAAM;AACnB,UAAMC,CAAC,GAAGF,OAAO,CAACG,MAAlB;AACAD,IAAAA,CAAC,GAAG,CAAJ,GAAQF,OAAO,CAACI,MAAR,EAAR,GAA2BJ,OAAO,CAACK,IAAR,CAAa,GAAb,CAA3B;AACD,GAHD;;AAKA,QAAMC,YAAY,GAAG,MAAOC,CAAP,IAAa;AAChCA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAMC,GAAG,GAAG,MAAMhB,IAAI,CAACiB,SAAL,CAAe;AAC/BhB,MAAAA,QAD+B;AAE/BE,MAAAA;AAF+B,KAAf,CAAlB;;AAIA,QAAIa,GAAG,IAAIA,GAAG,CAACE,OAAf,EAAwB;AACtBZ,MAAAA,SAAS,CAAC,IAAD,CAAT;AACAC,MAAAA,OAAO,CAACK,IAAR,CAAab,GAAG,GAAGA,GAAH,GAAS,GAAzB;AACD,KAHD,MAGO;AACLO,MAAAA,SAAS,CACPU,GAAG,IAAI,OAAOA,GAAP,KAAe,QAAtB,GAAiCA,GAAjC,GAAuC,2BADhC,CAAT;AAGD;AACF,GAdD;;AAgBD,sBACC;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA,4BACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADD,eAGC;AAAM,MAAA,QAAQ,EAAEG,KAAK,CAACC,WAAtB;AAAA,8BACC;AAAA,+BACC;AAAO,UAAA,IAAI,EAAC,MAAZ;AAAmB,UAAA,WAAW,EAAC,eAA/B;AACA,UAAA,KAAK,EAAED,KAAK,CAACE,YADb;AAEA,UAAA,QAAQ,EAAEF,KAAK,CAACG;AAFhB;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,cADD,eAOC;AAAA,+BACC;AAAO,UAAA,IAAI,EAAC,MAAZ;AAAmB,UAAA,WAAW,EAAC,UAA/B;AACA,UAAA,KAAK,EAAEH,KAAK,CAAChB,QADb;AAEA,UAAA,QAAQ,EAAEgB,KAAK,CAACI;AAFhB;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,cAPD,eAaC;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAbD;AAAA;AAAA;AAAA;AAAA;AAAA,YAHD;AAAA;AAAA;AAAA;AAAA;AAAA,UADD;AAsBA,CAjDD;;GAAMzB,K;UAIYH,U;;;KAJZG,K;AAmDNA,KAAK,CAAC0B,SAAN,GAAkB;AACjBxB,EAAAA,IAAI,EAAEH,SAAS,CAAC4B,MAAV,CAAiBC;AADN,CAAlB;AAIA,eAAe5B,KAAf","sourcesContent":["import { useHistory } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst Login = ({ uri, auth }) => {\n  const [username, setUserName] = useState();\n  const [password, setPassword] = useState();\n  const [errMsg, setErrMsg] = useState();\n  const history = useHistory();\n\n  const cancel = () => {\n    const l = history.length;\n    l > 2 ? history.goBack() : history.push(\"/\");\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const res = await auth.loginUser({\n      username,\n      password,\n    });\n    if (res && res.success) {\n      setErrMsg(null);\n      history.push(uri ? uri : \"/\");\n    } else {\n      setErrMsg(\n        res && typeof res === \"string\" ? res : \"Invalid Username/Password\"\n      );\n    }\n  };\n\n\treturn (\n\t\t<div className=\"login\">\n\t\t\t<h3>Login</h3>\n\t\t\n\t\t\t<form onSubmit={props.handleLogin}>\n\t\t\t\t<div>\n\t\t\t\t\t<input type=\"text\" placeholder=\"Email address\"\n\t\t\t\t\tvalue={props.emailAddress}\n\t\t\t\t\tonChange={props.handleEmailAddress}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div> \n\t\t\t\t\t<input type=\"text\" placeholder=\"Password\"\n\t\t\t\t\tvalue={props.password}\n\t\t\t\t\tonChange={props.handlePassword}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<button type=\"submit\">login</button>\n\t\t\t</form>\n\t\t</div>\n\t)\n\n}\n\nLogin.propTypes = {\n\tauth: PropTypes.object.isRequired,\n};\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}